評価観点	評価項目	項目の説明	AnonCreds	DIDComm	OID4VC
基本機能に関する観点	主な用途と目的	プロトコルの設計目的および適用される主なユースケース（認証、資格情報管理、データ共有など）。	◯	◯	◯
設計アプローチ	分散型、中央集権型、セルフソブリン型IDなどのアーキテクチャ方針とインフラ依存性の有無。	△（Hyperledger Indyに依存）	◯	◯
柔軟性	認証フローやデータ管理のカスタマイズ性、さまざまなシナリオへの適用可能性。	✗（特定のシナリオに制約）	◯	◯
ユースケース対応力	企業、政府、消費者向けなど、さまざまな用途への対応力。	✗（用途が限定的）	◯	◯
プライバシーとセキュリティに関する観点	プライバシー保護の機能	データ最小化、同意管理、開示範囲の制御などユーザーが情報を管理する能力。	◯	◯	◯
匿名性の実現度	資格情報提示時に個人情報を明かさずに匿名で証明できる能力。	◯	△（匿名DID使用時のみ実現）	✗（匿名性は提供されていない）
エンドツーエンド暗号化とセキュリティモデル	通信経路全体での暗号化、データのインテグリティ保護、認証プロトコルの堅牢性。	◯	◯	◯
相互運用性と既存インフラの活用	他のプロトコルとの互換性	DID、OAuth 2.0、OpenID Connectなど他のプロトコルとの統合のしやすさ。	✗（DIDと部分的な互換性のみ）	◯	◯
標準規格への準拠性	W3C、ISO、NISTなどの国際標準規格にどの程度準拠しているか。	△（一部W3C VC非互換）	◯	◯
既存システムとの統合容易性	SSO、デジタルIDシステムなど既存の認証システムとの統合のしやすさ。	✗（統合にカスタム実装が必要）	△（DIDサポート時のみ統合可能）	◯
管理・運用に関する観点	資格情報の管理フローと更新性	資格情報の発行、提示、失効、更新のフローが標準化されているかどうか。	△（失効管理が複雑）	◯	◯
セルフカストディへの対応	ユーザーが資格情報を完全に自分で管理できるセルフソブリン型ID（SSI）への対応度。	◯	◯	△（セルフカストディは非推奨）
実装の容易さ	開発者向けのライブラリやツールの充実度、導入時のドキュメントの充実度。	✗（ライブラリが限定的）	◯	◯
既存技術の再利用度	OAuth 2.0、OpenID Connectなど、既存技術スタックの再利用性。	✗（独自プロトコルに依存）	✗	◯
パフォーマンスとスケーラビリティ	トランザクションスループット	高負荷環境やリアルタイム処理時のトランザクション処理能力。	△（ZKP処理で負荷が高い）	◯	◯
システムのスケーラビリティ	デバイス数やユーザー数の増加に対応するシステムの拡張性。	△（集中型でスケールしにくい）	◯	◯
コンプライアンスと規制遵守	規制対応（GDPR、eIDASなど）	データ最小化、ユーザー同意管理、アクセス権管理などの国際規制への対応度。	◯	◯	◯
セキュリティ・コンプライアンスの要件対応度	データ保護法や企業のセキュリティ基準を満たしているかどうか。	◯	◯	◯



graph TD
    A[運転免許証の取得] --> B[OID4VCI: 発行]
    B --> C[スマートフォンのウォレットに保存]
    C --> D[レンタカー利用]
    D --> E[OID4VP: 提示]
    D --> F[SIOPv2: 認証]
    E --> G[レンタカー会社による検証]
    F --> G
    G --> H[車両の貸出]





sequenceDiagram
    participant U as ユーザー（太郎）
    participant W as ウォレットアプリ
    participant DMV as 運転免許センター
    participant RC as レンタカー会社

    rect rgb(200, 230, 200)
    Note over U,DMV: OID4VCIのスコープ
    U->>DMV: デジタル免許証発行要求
    DMV->>U: 認証要求
    U->>DMV: 認証情報提供
    DMV->>DMV: 認証検証
    DMV->>W: 証明書メタデータ送信
    W->>DMV: 証明書要求
    DMV->>DMV: 証明書生成
    DMV->>W: デジタル運転免許証発行
    W->>W: 証明書保存
    end

    Note over U,W: 時間経過

    rect rgb(230, 200, 230)
    Note over U,RC: SIOPv2のスコープ
    U->>RC: レンタカー予約
    RC->>W: 認証要求
    W->>U: 生体認証要求
    U->>W: 生体認証提供
    W->>W: Self-signed ID Token生成
    W->>RC: ID Token送信
    RC->>RC: ID Token検証
    end

    rect rgb(200, 230, 230)
    Note over U,RC: OID4VPのスコープ
    RC->>W: 運転免許証提示要求
    W->>W: 要求された証明書選択
    W->>W: Verifiable Presentation作成
    W->>RC: Verifiable Presentation送信
    RC->>RC: プレゼンテーション検証
    end

    RC->>U: レンタカー利用許可


# OID4VCと関連プロトコル概要

## 1. OID4VC (OpenID for Verifiable Credentials)

### 定義
- OpenID Connectの拡張規格群
- 検証可能な証明書（Verifiable Credentials）のライフサイクル管理を標準化

### 目的
- 自己主権型アイデンティティ（SSI）の実現
- デジタルアイデンティティの相互運用性の確保

### 構成要素
- OID4VCI: 証明書発行プロトコル
- OID4VP: 証明書提示プロトコル

## 2. OID4VCI (OpenID for Verifiable Credential Issuance)

### 定義
- 検証可能な証明書の発行プロセスを標準化するプロトコル

### 主要機能
- 証明書発行要求の処理
- 発行者の認証
- 証明書メタデータの交換
- 証明書の生成と発行

### 利点
- 安全な証明書発行プロセスの確立
- 発行された証明書の信頼性と完全性の保証

## 3. OID4VP (OpenID for Verifiable Presentations)

### 定義
- 検証可能な証明書の提示プロセスを標準化するプロトコル

### 主要機能
- 証明書提示要求の処理
- 証明書の選択的開示
- Verifiable Presentationの作成と送信
- プレゼンテーションの検証

### 利点
- ユーザーのプライバシー保護
- データ主権の強化
- 必要最小限の情報開示

## 4. SIOPv2 (Self-Issued OpenID Provider v2)

### 定義
- ユーザーが自身でOpenIDプロバイダとして機能するプロトコル

### 主要機能
- 自己署名されたIDトークンの生成
- ユーザー主導の認証プロセス
- 依拠当事者（RP）による検証

### 利点
- 中央集権的な認証システムへの依存の排除
- ユーザーによるデジタルアイデンティティの完全制御

## 5. プロトコル間の関係

- OID4VCI と OID4VP: OID4VCの構成要素として、証明書のライフサイクル全体をカバー
- SIOPv2: OID4VCと組み合わせて使用可能、自己主権的な認証を提供

## 6. 総合的な利点

- ユーザー中心のアイデンティティ管理
- 強化されたプライバシーとセキュリティ
- 相互運用性のあるデジタルアイデンティティエコシステムの実現
- 分散型アイデンティティの促進
